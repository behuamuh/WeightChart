!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOCALE={RU:{HELLO:"Здравствуйте, ",TITLE:["Мы поможем Вам следить за изменениями веса. \nВведите ваш текущий вес","Мы поможем Вам следить за изменениями веса. \nСегодня вы уже ввели свой вес"],CHANGE_NAME:"Сменить имя",RESET_WEIGHT:"Сбросить данные",SEND_WEIGHT:"Записать",PERIODS:["За неделю","За месяц","За год","За все время"],WEIGHT_ADDED_ALERT:"Вес добавлен",WEIGHT_IS_CHANGED:"Сегодня вы уже ввели свой вес",TITLE_CHART:["Здесь будет Ваша динамика","Ваша динамика"],RESULT_CHART:["За период с ","Вы ","сбросили","набрали","кг","Отлично, так держать!","Не расстраивайтесь, у Вас все получится!"],PROMPT_CREATE_USER:["Здравствуйте, представтесь пожалуйста.","Гость"],PROMPT_CHANGE_NAME:"Введите новое имя",RESET_CONFIRM:"Вы уверены?"},EN:{HELLO:"Welcome, ",TITLE:["We will help you keep track of weight changes. \nEnter your current weight ","We will help you keep track of weight changes. \nToday you have already entered your weight"],CHANGE_NAME:"Change name",RESET_WEIGHT:"Reset all weights",SEND_WEIGHT:"Write",PERIODS:["For a week","For a month","For a year","For all time"],WEIGHT_ADDED_ALERT:"Weight added",WEIGHT_IS_CHANGED:"Today you have already entered your weight",TITLE_CHART:["Your dynamics will be here","Your dynamics"],RESULT_CHART:["For the period from ","You ","dropped","scored","kg","Great, keep it up!","Do not worry, you will succeed!"],PROMPT_CREATE_USER:["Hello, please introduce yourself.","Guest"],PROMPT_CHANGE_NAME:"Enter new name",RESET_CONFIRM:"Are you sure?"}}},function(e,t,r){"use strict";var n=r(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r(3)),a=r(0);var u="RU";window.onload=function e(){var t=a.LOCALE[u],r=t.HELLO,i=t.TITLE,c=t.CHANGE_NAME,l=t.RESET_WEIGHT,s=t.SEND_WEIGHT,f=t.WEIGHT_ADDED_ALERT,E=t.WEIGHT_IS_CHANGED,d=t.PROMPT_CREATE_USER,g=t.PROMPT_CHANGE_NAME,T=t.RESET_CONFIRM;localStorage.user||n.createUser.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(d));var y=document.querySelector("#language");y.innerHTML="",Object.keys(a.LOCALE).forEach(function(t){var r=document.createElement("button");r.classList.add("btn","btn-sm",t===u?"btn-success":"btn-outline-success"),r.innerText=t,r.style.cursor="pointer",r.onclick=function(t){u=t.target.innerText,e()},y.appendChild(r)});var h=JSON.parse(localStorage.user),S=h.userName,_=h.weigths;document.querySelector("h3#hello").innerText=r+S+"!";var m=document.querySelector("#title");m.innerText=_.hasOwnProperty((new Date).toDateString())?i[1]:i[0];var p=document.querySelector("input#weight");p.addEventListener("keydown",function(e){13===e.keyCode&&R()});var v=document.querySelector("button#send");v.innerText=s,v.onclick=R;var O=document.querySelector("button#changeName");O.innerText=c,O.onclick=function(){return(0,n.changeUserName)(g)};var A=document.querySelector("button#resetWeight");function R(){var e=(new Date).toDateString();_.hasOwnProperty(e)||(alert(f),_[e]=p.value,m.innerText=E,(0,n.saveUserChange)(S,_),(0,o.default)(_,u)),p.value=""}A.innerText=l,A.onclick=function(){return(0,n.resetUserWeigths)(T)},(0,o.default)(_,u)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUser=function(e,t){var r=prompt(e)||t,n=new Object;localStorage.setItem("user",JSON.stringify({userName:r,weigths:n}))},t.saveUserChange=function(e,t){localStorage.setItem("user",JSON.stringify({userName:e,weigths:t}))},t.changeUserName=function(e){var t=JSON.parse(localStorage.user).weigths,r=prompt(e);r&&(localStorage.setItem("user",JSON.stringify({userName:r,weigths:t})),location.reload())},t.resetUserWeigths=function(e){if(!confirm(e))return;var t=JSON.parse(localStorage.user).userName;localStorage.setItem("user",JSON.stringify({userName:t,weigths:{}})),location.reload()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=o.LOCALE[t],a=r.PERIODS,u=r.TITLE_CHART,i=r.RESULT_CHART,c=0==Object.keys(e).length?(0,n.default)(300):e,l=document.querySelector("h3#dynamic"),s=Object.keys(c);l.innerText=0==Object.keys(e).length?u[0]:u[1];var f=document.querySelectorAll("#periods .btn");function E(e){s=Object.keys(c).sort(function(e,t){return new Date(e).getTime()-new Date(t).getTime()}).filter(function(t,r,n){return n.length-r<=+e.target.dataset.period}),d()}function d(){var e=Math.floor(s.length/32)+1,t=s.filter(function(t,r){return r%e==0});t[t.length-1]!==s[s.length-1]&&t.push(s[s.length-1]);var r=(400-10*t.length)/2,n=c[t[0]]-c[t[t.length-1]],o=function(){var e=document.querySelector("canvas#cnv1").getContext("2d");return e.clearRect(0,0,400,200),e}();o.beginPath(),o.fillStyle=n>0?"green":"red",t.forEach(function(e,t){o.fillRect(r+10*t,200-c[e],4,c[e])}),o.fillText(new Date(t[0]).toLocaleDateString(),60,20),o.fillText(new Date(t[t.length-1]).toLocaleDateString(),286,20),o.closePath(),document.querySelector("h4#result").innerText=""+i[0]+new Date(t[0]).toLocaleDateString()+" - "+new Date(t[t.length-1]).toLocaleDateString()+"\n  "+i[1]+" "+(n>=0?i[2]:i[3])+" "+Math.abs(n)+" "+i[4]+".\n  "+(n>0?i[5]:i[6])}Object.values(f).forEach(function(e,t){e.innerText=a[t],e.onclick=E}),d()};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(4)),o=r(0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return+e!=+e?{}:(new Array(+e).fill(0).map(function(t,r){return new Date(Date.now()-24*(+e-r)*3600*1e3).toDateString()}).forEach(function(e){return t[e]=60+Math.round(40*Math.random())}),t)}}]);